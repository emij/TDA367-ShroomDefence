<?xml version="1.0" encoding="UTF-8"?>
<nifty xmlns="http://nifty-gui.sourceforge.net/nifty-1.3.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://niftygui.sourceforge.net/nifty-1.3.xsd http://nifty-gui.sourceforge.net/nifty-1.3.xsd">
    
    <useStyles filename="nifty-default-styles.xml" />
    <useControls filename="nifty-default-controls.xml" />
    
    <screen id="start" defaultFocusElement="startWaveButton" 
        controller="se.chalmers.tda367.std.gui.GameplayState">
         <layer id="bottomUI" childLayout="horizontal">
            <panel height="10%" width="50%" align="left" valign="bottom" 
            backgroundColor="#444444" childLayout="horizontal" visibleToMouse="true">
                <control name="label" text="Remaining life: " width="27%" height="100%" align="left"/>
                <control id="lifeLabel" name="label" width="*" height="100%" textHAlign="left"/>
            </panel>
            <panel height="10%" width="50%" align="right" valign="bottom" 
            backgroundColor="#444444" childLayout="horizontal" visibleToMouse="true">
                <control name="label" text="Score: " width="11%" height="100%" align="left"/>
                <control id="scoreLabel" name="label" width="*" height="100%" textHAlign="left"/>
            </panel>
        </layer>
        <layer id="rightUI" childLayout="center" visibleToMouse="true">
            <panel height="100%" width="21%" align="right" valign="center" 
                backgroundColor="#444444" childLayout="vertical">
                <control id="optionsButton" name="button" label="Options" width="85%" height="10%" align="center">
                    <interact onClick="toggleOptions()"/>
                </control>
                <panel id="buttonPanel" childLayout="horizontal" width="95%" height="80%" 
                    align="center" valing="top" backgroundColor="#575757" padding="10%,0,0,8%">
                    <panel id="leftButtonPanel" childLayout="vertical" align="left" width="50%" height="100%">
                    </panel>
                    <panel id="rightButtonPanel" childLayout="vertical" align="right" width="50%" height="100%">
                        <control id="slowTowerButton" type="button" label="Slow" name="slowTowerButton" width="85%" height="15%">
                            <interact onClick="buildTower(slow)" />
                        </control>
                        <control id="posionTowerButton" type="button" label="Poison" name="posionTowerButton" width="85%" height="15%">
                            <interact onClick="buildTower(poison)" />
                        </control>
                        <control id="testButton3" type="button" label="test3" name="testButton3" width="85%" height="15%">
                            <interact onClick="buildTower(testButton3)" />
                        </control>
                        <control id="testButton4" type="button" label="test4" name="testButton4" width="85%" height="15%">
                            <interact onClick="buildTower(testButton4)" />
                        </control>
                    </panel>
                </panel>
                <panel childLayout="center" label="Start wave!" height="*" align="center" valing="bottom">
                    <control id="startWaveButton" type="button" name="startWave" width="200px" valign="center">
                        <interact onClick="startWave()" />
                    </control>
                </panel>
            </panel>
        </layer>
    </screen>
    <popup id="optionsPopup" childLayout="center" backgroundColor="#000a">
        <panel style="nifty-panel-red" childLayout="vertical" padding="18px,28px,40px,16px" width="50%" height="80%" align="center" valign="center">
            <panel childLayout="vertical" width="85%" height="80%">
                <panel childLayout="horizontal" width="85%" height="20%"> 
                    <control name="label" text="Music on/off" width="50%" height="85%" align="left" valign="center"/>
                    <control id="musicCheckbox" name="checkbox" width="7%" height="43%" align="right" valign="center">
                        
                    </control>
                </panel>
                <panel childLayout="horizontal" width="85%" height="20%">
                    <control name="label" text="Music volume" width="50%" height="85%" align="left" valign="center"/>
                    <control id="musicVolumeSlider" name="horizontalSlider" initial="100" width="55%" height="25%" align="right" valign="center">
                        
                    </control>
                </panel>     
            </panel>
            <panel childLayout="vertical" width="*" height="*">
                <control id="closeOptionsButton" name="button" label="Close" width="50%" height="90%" align="right" valign="bottom">
                    <interact onClick="toggleOptions()"/>
                </control>
            </panel>
        </panel>
    </popup>
    <popup id="gameOverPopup" childLayout="center" backgroundColor="#000a">
        <panel style="nifty-panel-red" childLayout="vertical" padding="18px,28px,40px,16px" width="50%" height="50%" align="center" valign="center">
            <panel childLayout="vertical" width="85%" align="center" height="80%">
                <text text="Game over!" font="verdana-smallregular.fnt" fontSize="40" align="center" width="100%" height="20%" textHAlign="center"/>
                <text text="Your final score was:" font="verdana-smallregular.fnt" fontSize="20" align="center" width="100%" height="20%" wrap="true"/>
                <control id="gameOverScoreLabel" name="label" width="100%" height="20%" align="center" textHAlign="center"/>
            </panel>
            <panel childLayout="vertical" width="*" height="*">
                <control id="endGameButton" name="button" label="Close" width="50%" height="90%" align="right" valign="bottom">
                    <interact onClick="endGame()"/>
                </control>
            </panel>
        </panel>
    </popup>
</nifty>
